!function(o){o(function(){let t="";o("#new-quote-button").on("click",function(e){e.preventDefault(),t=document.URL,o.ajax({method:"get",url:api_vars.rest_url+"wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1"}).done(function(o){const t=o[0];console.log(t),history.pushState(null,null,t.slug)}).fail(function(o){console.log(o)}),o(window).on("popstate",function(){window.location.replace(t)})}),o("#quote-submission-form").on("submit",function(t){t.preventDefault(),console.log("form submitted");const e=o("#quote-author").val();""!==e.length&&o.ajax({method:"post",url:api_vars.rest_url+"wp/v2/posts",data:{title:e,content:"The most amazing quote by Gordon Ramsey",status:"pending"},beforeSend:function(o){o.setRequestHeader("X-WP-Nonce",api_vars.wpapi_nonce)}}).done(function(){console.log("great success"),o("#quote-submission-form").slideUp("2000")}).fail(function(){console.log("not so great")})})})}(jQuery);